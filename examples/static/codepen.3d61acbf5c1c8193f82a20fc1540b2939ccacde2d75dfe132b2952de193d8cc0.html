<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Manipulation | Edit Edge Without Drag</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"body,\nselect {\n  font: 10pt sans;\n}\n#mynetwork {\n  position: relative;\n  width: 800px;\n  height: 600px;\n  border: 1px solid lightgray;\n}\ntable.legend_table {\n  font-size: 11px;\n  border-width: 1px;\n  border-color: #d3d3d3;\n  border-style: solid;\n}\ntable.legend_table,\ntd {\n  border-width: 1px;\n  border-color: #d3d3d3;\n  border-style: solid;\n  padding: 2px;\n}\ndiv.table_content {\n  width: 80px;\n  text-align: center;\n}\ndiv.table_description {\n  width: 100px;\n}\n\n#operation {\n  font-size: 28px;\n}\n#node-popUp {\n  display: none;\n  position: absolute;\n  top: 350px;\n  left: 170px;\n  z-index: 299;\n  width: 250px;\n  height: 120px;\n  background-color: #f9f9f9;\n  border-style: solid;\n  border-width: 3px;\n  border-color: #5394ed;\n  padding: 10px;\n  text-align: center;\n}\n#edge-popUp {\n  display: none;\n  position: absolute;\n  top: 350px;\n  left: 170px;\n  z-index: 299;\n  width: 250px;\n  height: 90px;\n  background-color: #f9f9f9;\n  border-style: solid;\n  border-width: 3px;\n  border-color: #5394ed;\n  padding: 10px;\n  text-align: center;\n}\n","css_external":"","html":"&lt;h2&gt;Editing the nodes and edges-without-drag (localized)&lt;/h2&gt;\n&lt;p style=\"width: 700px; font-size: 14px; text-align: justify\"&gt;\n  The localization is only relevant to the manipulation buttons.\n&lt;/p&gt;\n\n&lt;p&gt;\n  &lt;label for=\"locale\"&gt;Select a locale:&lt;/label&gt;\n  &lt;select id=\"locale\" onchange=\"draw();\"&gt;\n    &lt;option value=\"en\"&gt;en&lt;/option&gt;\n    &lt;option value=\"cn\"&gt;cn&lt;/option&gt;\n    &lt;option value=\"cs\"&gt;cs&lt;/option&gt;\n    &lt;option value=\"de\"&gt;de&lt;/option&gt;\n    &lt;option value=\"es\"&gt;es&lt;/option&gt;\n    &lt;option value=\"fr\"&gt;fr&lt;/option&gt;\n    &lt;option value=\"it\"&gt;it&lt;/option&gt;\n    &lt;option value=\"nl\"&gt;nl&lt;/option&gt;\n    &lt;option value=\"pt-br\"&gt;pt&lt;/option&gt;\n    &lt;option value=\"ru\"&gt;ru&lt;/option&gt;\n    &lt;option value=\"uk\"&gt;uk&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/p&gt;\n\n&lt;div id=\"node-popUp\"&gt;\n  &lt;span id=\"node-operation\"&gt;node&lt;/span&gt; &lt;br /&gt;\n  &lt;table style=\"margin: auto\"&gt;\n    &lt;tbody&gt;\n      &lt;tr&gt;\n        &lt;td&gt;id&lt;/td&gt;\n        &lt;td&gt;&lt;input id=\"node-id\" value=\"new value\" /&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;label&lt;/td&gt;\n        &lt;td&gt;&lt;input id=\"node-label\" value=\"new value\" /&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;input type=\"button\" value=\"save\" id=\"node-saveButton\" /&gt;\n  &lt;input type=\"button\" value=\"cancel\" id=\"node-cancelButton\" /&gt;\n&lt;/div&gt;\n\n&lt;div id=\"edge-popUp\"&gt;\n  &lt;span id=\"edge-operation\"&gt;edge&lt;/span&gt; &lt;br /&gt;\n  &lt;table style=\"margin: auto\"&gt;\n    &lt;tbody&gt;\n      &lt;tr&gt;\n        &lt;td&gt;label&lt;/td&gt;\n        &lt;td&gt;&lt;input id=\"edge-label\" value=\"new value\" /&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;input type=\"button\" value=\"save\" id=\"edge-saveButton\" /&gt;\n  &lt;input type=\"button\" value=\"cancel\" id=\"edge-cancelButton\" /&gt;\n&lt;/div&gt;\n\n&lt;br /&gt;\n&lt;div id=\"mynetwork\"&gt;&lt;/div&gt;\n","js":"var nodes = null;\nvar edges = null;\nvar network = null;\n// randomly create some nodes and edges\nvar data = getScaleFreeNetwork(25);\nvar seed = 2;\n\nfunction setDefaultLocale() {\n  var defaultLocal = navigator.language;\n  var select = document.getElementById(\"locale\");\n  select.selectedIndex = 0; // set fallback value\n  for (var i = 0, j = select.options.length; i &lt; j; ++i) {\n    if (select.options[i].getAttribute(\"value\") === defaultLocal) {\n      select.selectedIndex = i;\n      break;\n    }\n  }\n}\n\nfunction destroy() {\n  if (network !== null) {\n    network.destroy();\n    network = null;\n  }\n}\n\nfunction draw() {\n  destroy();\n  nodes = [];\n  edges = [];\n\n  // create a network\n  var container = document.getElementById(\"mynetwork\");\n  var options = {\n    layout: { randomSeed: seed }, // just to make sure the layout is the same when the locale is changed\n    locale: document.getElementById(\"locale\").value,\n    manipulation: {\n      addNode: function (data, callback) {\n        // filling in the popup DOM elements\n        document.getElementById(\"node-operation\").innerText = \"Add Node\";\n        editNode(data, clearNodePopUp, callback);\n      },\n      editNode: function (data, callback) {\n        // filling in the popup DOM elements\n        document.getElementById(\"node-operation\").innerText = \"Edit Node\";\n        editNode(data, cancelNodeEdit, callback);\n      },\n      addEdge: function (data, callback) {\n        if (data.from == data.to) {\n          var r = confirm(\"Do you want to connect the node to itself?\");\n          if (r != true) {\n            callback(null);\n            return;\n          }\n        }\n        document.getElementById(\"edge-operation\").innerText = \"Add Edge\";\n        editEdgeWithoutDrag(data, callback);\n      },\n      editEdge: {\n        editWithoutDrag: function (data, callback) {\n          document.getElementById(\"edge-operation\").innerText = \"Edit Edge\";\n          editEdgeWithoutDrag(data, callback);\n        },\n      },\n    },\n  };\n  network = new vis.Network(container, data, options);\n}\n\nfunction editNode(data, cancelAction, callback) {\n  document.getElementById(\"node-label\").value = data.label;\n  document.getElementById(\"node-saveButton\").onclick = saveNodeData.bind(\n    this,\n    data,\n    callback\n  );\n  document.getElementById(\"node-cancelButton\").onclick = cancelAction.bind(\n    this,\n    callback\n  );\n  document.getElementById(\"node-popUp\").style.display = \"block\";\n}\n\n// Callback passed as parameter is ignored\nfunction clearNodePopUp() {\n  document.getElementById(\"node-saveButton\").onclick = null;\n  document.getElementById(\"node-cancelButton\").onclick = null;\n  document.getElementById(\"node-popUp\").style.display = \"none\";\n}\n\nfunction cancelNodeEdit(callback) {\n  clearNodePopUp();\n  callback(null);\n}\n\nfunction saveNodeData(data, callback) {\n  data.label = document.getElementById(\"node-label\").value;\n  clearNodePopUp();\n  callback(data);\n}\n\nfunction editEdgeWithoutDrag(data, callback) {\n  // filling in the popup DOM elements\n  document.getElementById(\"edge-label\").value = data.label;\n  document.getElementById(\"edge-saveButton\").onclick = saveEdgeData.bind(\n    this,\n    data,\n    callback\n  );\n  document.getElementById(\"edge-cancelButton\").onclick = cancelEdgeEdit.bind(\n    this,\n    callback\n  );\n  document.getElementById(\"edge-popUp\").style.display = \"block\";\n}\n\nfunction clearEdgePopUp() {\n  document.getElementById(\"edge-saveButton\").onclick = null;\n  document.getElementById(\"edge-cancelButton\").onclick = null;\n  document.getElementById(\"edge-popUp\").style.display = \"none\";\n}\n\nfunction cancelEdgeEdit(callback) {\n  clearEdgePopUp();\n  callback(null);\n}\n\nfunction saveEdgeData(data, callback) {\n  if (typeof data.to === \"object\") data.to = data.to.id;\n  if (typeof data.from === \"object\") data.from = data.from.id;\n  data.label = document.getElementById(\"edge-label\").value;\n  clearEdgePopUp();\n  callback(data);\n}\n\nfunction init() {\n  setDefaultLocale();\n  draw();\n}\n\nwindow.addEventListener(\"load\", () =&gt; {\n  init();\n});\n","js_external":"https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js;https://unpkg.com/alea@1.0.0/alea.js;https://visjs.github.io/vis-network/examples/network/exampleUtil.js","title":"Vis Network | Manipulation | Edit Edge Without Drag"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
